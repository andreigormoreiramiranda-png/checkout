<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Fábrica de Amigurumis</title>
    
    <!-- Pinterest Tag - CÓDIGO BASE -->
    <script>
    !function(e){if(!window.pintrk){window.pintrk = function () {
    window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var
      n=window.pintrk;n.queue=[],n.version="3.0";var
      t=document.createElement("script");t.async=!0,t.src=e;var
      r=document.getElementsByTagName("script")[0];
      r.parentNode.insertBefore(t,r)}}("https://s.pinimg.com/ct/core.js");
    pintrk('load', '2613216526091'); // IMPORTANTE: Coloque seu ID aqui
    pintrk('page');
    </script>
    <noscript>
    <img height="1" width="1" style="display:none;" alt=""
      src="https://ct.pinterest.com/v3/?event=init&tid=2613216526091&noscript=1" />
    </noscript>
    <!-- end Pinterest Tag -->

    <style>
        /* --- ESTILO CAKTO - Reset e Configurações Globais --- */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f5f5;
            color: #1a1a1a;
            line-height: 1.5;
        }
        
        .main-container {
            max-width: 420px;
            margin: 0 auto;
            background-color: #ffffff;
            min-height: 100vh;
        }
        
        /* --- Header com Timer --- */
        .header-timer {
            background-color: #E74C3C;
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            font-weight: 600;
            font-size: 15px;
        }
        
        .timer-icon {
            width: 24px;
            height: 24px;
            background-color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }
        
        /* --- Banner --- */
        .promo-banner {
            width: 100%;
            display: block;
        }
        
        /* --- Seções --- */
        .content-section {
            padding: 20px;
        }
        
        /* --- Produto Principal --- */
        .product-card {
            background: white;
            margin-bottom: 20px;
        }
        
        .product-info {
            display: flex;
            gap: 15px;
            align-items: flex-start;
        }
        
        .product-image {
            width: 80px;
            height: 80px;
            border-radius: 8px;
            object-fit: cover;
            flex-shrink: 0;
        }
        
        .product-details h1 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 5px;
            line-height: 1.3;
        }
        
        .product-price {
            color: #0B6856;
            font-size: 18px;
            font-weight: 600;
        }
        
        /* --- Formulário --- */
        .section-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .section-title svg {
            width: 20px;
            height: 20px;
            color: #58508d; /* Cor roxa do ícone */
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            font-size: 14px;
            color: #333;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 15px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #22C55E;
        }
        
        .phone-input-wrapper {
            display: flex;
            align-items: center;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            transition: border-color 0.3s;
            position: relative;
        }

        .phone-input-wrapper:focus-within {
            border-color: #22C55E;
        }
        
        .country-select {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 12px;
            font-size: 15px;
            flex-shrink: 0;
            border-right: 1px solid #e0e0e0;
        }
        
        .flag-icon {
            width: 20px;
            height: 15px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 15"><rect width="21" height="15" fill="%23009b3a"/><path d="M10.5 1.5l7.5 6-7.5 6-7.5-6z" fill="%23fedf00"/><circle cx="10.5" cy="7.5" r="3.5" fill="%23002776"/></svg>') center/cover;
            border-radius: 2px;
        }

        #customer-phone {
            border: none;
            padding-left: 10px;
            width: 100%;
            background-color: transparent;
        }

        #customer-phone:focus {
            border-color: transparent;
            outline: none;
        }
        
        .form-link {
            color: #36B37E;
            text-decoration: none;
            font-size: 13px;
            display: block;
            margin-top: 10px;
        }
        
        .payment-section, .order-bumps-section {
            margin-top: 30px;
        }

        /* --- Pagamento --- */
        .payment-methods {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .payment-method {
            flex: 1;
            padding: 15px;
            background: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 14px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 8px;
            height: 100px;
            color: #4b5563;
        }

        .payment-method svg {
            width: 32px;
            height: 32px;
        }
        
        .payment-method.active {
            background: #0B6856;
            color: white;
            border-color: #0B6856;
        }
        
        .payment-method.disabled {
            opacity: 0.7;
            cursor: not-allowed;
            color: #4b5563;
        }
        
        .payment-benefits {
            background: transparent;
            border: 2.3px dashed #0B6856;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .benefit-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            font-size: 14px;
            color: #333;
        }
        
        .benefit-item:last-child {
            margin-bottom: 0;
        }
        
        .benefit-icon {
            width: 18px;
            height: 18px;
            flex-shrink: 0;
        }
        
        /* --- Order Bumps --- */
        .order-bump {
            background-color: #ededed;
            border: 2px dashed #d1d1d1;
            border-radius: 8px;
            margin-bottom: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }

        .order-bump.selected {
            border: 2px solid #0B6856;
            background-color: #fff;
        }
        
        .order-bump-header {
            background-color: #d1d1d1;
            padding: 8px 15px;
            font-size: 14px;
            font-weight: 600;
            color: #000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .order-bump.selected .order-bump-header {
            background-color: #0B6856;
            color: #fff;
        }

        .order-bump-header-icon {
            display: none;
        }

        .order-bump.selected .order-bump-header-icon {
            display: block;
        }
        
        .order-bump-content {
            display: flex;
            gap: 12px;
            padding: 15px;
            align-items: center;
        }
        
        .order-bump-image {
            width: 80px;
            height: 80px;
            border-radius: 6px;
            object-fit: cover;
            flex-shrink: 0;
        }
        
        .order-bump-info {
            flex: 1;
        }
        
        .order-bump-title {
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 3px;
            line-height: 1.3;
            color: #4b5563;
        }
        
        .order-bump-subtitle {
            font-size: 12px;
            color: #4b5563;
            margin-bottom: 5px;
        }
        
        .order-bump-price {
            font-size: 16px;
            font-weight: 700;
            color: #0B6856;
        }

        .order-bump-add {
            background-color: #d1d1d1;
            padding: 8px 15px;
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .order-bump.selected .order-bump-add {
            background-color: #0B6856;
        }

        .order-bump-add-checkbox {
            margin-right: 8px;
            cursor: pointer;
        }

        .order-bump-add-checkbox:checked {
            accent-color: #38C4AF;
        }

        .order-bump-add-text {
            font-size: 14px;
            font-weight: bold;
            color: #000;
            user-select: none;
        }

        .order-bump.selected .order-bump-add-text {
            color: #fff;
        }
        
        /* --- Resumo do Pedido --- */
        .order-summary {
            background: #ededed;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .summary-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            background-color: white;
            border-radius: 4px;
        }
        
        .summary-item-info {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
        }
        
        .summary-item-image {
            width: 40px;
            height: 40px;
            border-radius: 4px;
            object-fit: cover;
        }
        
        .summary-item-name {
            font-size: 14px;
            font-weight: bold;
            color: #4b5563;
        }
        
        .summary-item-price {
            font-size: 14px;
            font-weight: 600;
            color: #4b5563;
        }

        .summary-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid #000;
            font-size: 18px;
            font-weight: 700;
        }
        
        /* --- Botão CTA --- */
        .cta-button {
            width: 100%;
            background: #0B6856;
            color: white;
            border: none;
            padding: 16px;
            font-size: 18px;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 20px;
        }
        
        .cta-button:hover {
            background: #085242;
        }
        
        .cta-button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        /* --- Footer --- */
        .footer-section {
            padding: 30px 20px;
            text-align: center;
        }
        
        .payment-provider {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 14px;
            color: #666;
            margin-bottom: 15px;
        }
        
        .cakto-logo {
            width: 20px;
            height: 20px;
            background: #333;
            border-radius: 4px;
        }
        
        .secure-badge {
            color: #22C55E;
            font-size: 14px;
            margin-bottom: 20px;
        }
        
        .footer-info {
            font-size: 12px;
            color: #999;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }
        
        .footer-links a {
            color: #666;
            text-decoration: none;
            font-size: 12px;
        }
        
        /* --- Selos de Garantia --- */
        .guarantee-badges {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .badge {
            text-align: center;
            padding: 15px;
        }
        
        .badge-icon {
            width: 60px;
            height: 60px;
            background: #f0f0f0;
            border-radius: 50%;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            border: 3px solid #22C55E;
        }
        
        .badge-text {
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }
        
        .badge-subtext {
            font-size: 12px;
            color: #666;
            margin-top: 3px;
        }
        
        /* --- Modal PIX --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
        }
        
        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            max-width: 400px;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .modal-header h1 {
            font-size: 22px;
            font-weight: 700;
        }
        .modal-header p {
            font-size: 14px;
            color: #666;
        }

        .modal-timer-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 10px;
        }
        .modal-timer-section p {
            font-weight: 500;
        }
        .modal-timer-display {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .modal-timer-box {
            background-color: #E74C3C;
            color: white;
            font-weight: bold;
            font-size: 20px;
            border-radius: 8px;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-timer-separator {
            font-size: 20px;
            font-weight: bold;
        }

        .qr-code-container {
            border: 2px dashed #e0e0e0;
            border-radius: 8px;
            padding: 10px;
            margin: 0 auto;
            width: 250px;
        }
        #qr-code-img {
            width: 100%;
            display: block;
            border-radius: 4px;
        }

        .payment-status {
            background-color: #f8f8f8;
            border-radius: 8px;
            padding: 8px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin: 0 auto;
        }
        .payment-status svg {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .approval-notice {
            background-color: #e6f7ec;
            color: #0B6856;
            border: 1px solid #b3e6c7;
            border-radius: 9999px;
            padding: 6px 12px;
            font-size: 12px;
            margin: 0 auto;
        }

        .modal-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .copy-pix-btn-new {
            width: 100%;
            padding: 14px;
            border: 1px solid #0B6856;
            background-color: white;
            color: #0B6856;
            border-radius: 8px;
            font-weight: 600;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            cursor: pointer;
        }
        .payment-done-btn {
            width: 100%;
            padding: 14px;
            border: none;
            background-color: #16a34a;
            color: white;
            border-radius: 8px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
        }

        .payment-instructions {
            text-align: left;
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 10px;
        }
        .instruction-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        .instruction-number {
            flex-shrink: 0;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background-color: #e6f7ec;
            color: #0B6856;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .instruction-text {
            font-size: 14px;
            color: #333;
        }
        
        #pix-code-input {
            position: absolute;
            left: -9999px;
            opacity: 0;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- Header com Timer -->
        <div class="header-timer">
            <span class="timer-icon">⏰</span>
            <span id="countdown-timer">14:58</span>
            <span>Oferta por tempo limitado</span>
        </div>
        
        <!-- Banner Promocional -->
        <img src="https://cdn-checkout.cakto.com.br/images/6cbf343a-5f74-4b06-a664-7292c03f07da.png" alt="Oferta Especial" class="promo-banner">
        
        <!-- Conteúdo Principal -->
        <div class="content-section">
            <!-- Produto Principal -->
            <div class="product-card">
                <div class="product-info">
                    <img src="https://cdn-checkout.cakto.com.br/products/Criativocalculadoraamigurumicomamigurumi.jpg?width=180" alt="Fabrica de Amigurumis" class="product-image">
                    <div class="product-details">
                        <h1>Fabrica de Amigurumis Premium</h1>
                        <p class="product-price">R$&nbsp;1,00 à vista</p>
                    </div>
                </div>
            </div>
            
            <!-- Formulário -->
            <div class="form-section">
                <div class="section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>
                    <span>Seus dados</span>
                </div>
                
                <div class="form-group">
                    <label>Nome completo</label>
                    <input type="text" id="customer-name" placeholder="Preencha seu nome">
                </div>
                
                <div class="form-group">
                    <label>Celular</label>
                    <div class="phone-input-wrapper">
                        <div class="country-select">
                            <div class="flag-icon"></div>
                            <span>+55</span>
                        </div>
                        <input type="tel" id="customer-phone" placeholder="(00) 00000-0000">
                    </div>
                </div>
                
                <a href="#" class="form-link">Porque pedimos esse dado?</a>
            </div>
            
            <!-- Pagamento -->
            <div class="payment-section">
                <div class="section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125-1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"></path></svg>
                    <span>Pagamento</span>
                </div>
                
                <div class="payment-methods">
                    <div class="payment-method active" data-method="pix">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" viewBox="0 0 16 16"><path d="M11.917 11.71a2.046 2.046 0 0 1-1.454-.602l-2.1-2.1a.4.4 0 0 0-.551 0l-2.108 2.108a2.044 2.044 0 0 1-1.454.602h-.414l2.66 2.66c.83.83 2.177.83 3.007 0l2.667-2.668h-.253zM4.25 4.282c.55 0 1.066.214 1.454.602l2.108 2.108a.39.39 0 0 0 .552 0l2.1-2.1a2.044 2.044 0 0 1 1.453-.602h.253L9.503 1.623a2.127 2.127 0 0 0-3.007 0l-2.66 2.66h.414z"></path><path d="m14.377 6.496-1.612-1.612a.307.307 0 0 1-.114.023h-.733c-.379 0-.75.154-1.017.422l-2.1 2.1a1.005 1.005 0 0 1-1.425 0L5.268 5.32a1.448 1.448 0 0 0-1.018-.422h-.9a.306.306 0 0 1-.109-.021L1.623 6.496c-.83.83-.83 2.177 0 3.008l1.618 1.618a.305.305 0 0 1 .108-.022h.901c.38 0 .75-.153 1.018-.421L7.375 8.57a1.034 1.034 0 0 1 1.426 0l2.1 2.1c.267.268.638.421 1.017.421h.733c.04 0 .079.01.114.024l1.612-1.612c.83-.83.83-2.178 0-3.008z"></path></svg>
                        <span>PIX</span>
                    </div>
                    <div class="payment-method disabled" data-method="card">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="#000000" aria-hidden="true"><path fill-rule="evenodd" d="M2.5 4A1.5 1.5 0 0 0 1 5.5V6h18v-.5A1.5 1.5 0 0 0 17.5 4h-15ZM19 8.5H1v6A1.5 1.5 0 0 0 2.5 16h15a1.5 1.5 0 0 0 1.5-1.5v-6ZM3 13.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75Zm4.75-.75a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5Z" clip-rule="evenodd"></path></svg>
                        <span>Cartão de Crédito</span>
                    </div>
                </div>
                
                <div class="payment-benefits">
                    <div class="benefit-item">
                        <img src="https://pay.cakto.com.br/assets/checkmark-big-circle.svg" alt="Checkmark" class="benefit-icon">
                        <span>Liberação imediata</span>
                    </div>
                    <div class="benefit-item">
                        <img src="https://pay.cakto.com.br/assets/checkmark-big-circle.svg" alt="Checkmark" class="benefit-icon">
                        <span>É simples, só usar o aplicativo de seu banco para pagar Pix</span>
                    </div>
                </div>
            </div>
            
            <!-- Order Bumps -->
            <div class="order-bumps-section">
                <div class="section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" style="color: rgb(0, 0, 0);"><path stroke-linecap="round" stroke-linejoin="round" d="m9 14.25 6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185ZM9.75 9h.008v.008H9.75V9Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm4.125 4.5h.008v.008h-.008V13.5Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"></path></svg>
                    <span>Ofertas limitadas</span>
                </div>
                
                <!-- Order Bump 1 -->
                <div class="order-bump">
                    <div class="order-bump-header">
                        <span>SUPER BÔNUS: Combo Princesas Disney (20 Receitas)</span>
                        <svg class="order-bump-header-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 490.05 490.05" width="20" height="20" fill="#38C4AF"><path d="M418.275 418.275c95.7-95.7 95.7-250.8 0-346.5s-250.8-95.7-346.5 0-95.7 250.8 0 346.5 250.9 95.7 346.5 0zm-261.1-210.7 55.1 55.1 120.7-120.6 42.7 42.7-120.6 120.6-42.8 42.7-42.7-42.7-55.1-55.1 42.7-42.7z"></path></svg>
                    </div>
                    <div class="order-bump-content">
                        <img src="https://cdn-checkout.cakto.com.br/products/banerrcompreosite37901.jpg?width=180" alt="Combo Princesas" class="order-bump-image">
                        <div class="order-bump-info">
                            <div class="order-bump-title">Combo 16 PRINCESAS DISNEY E 4...</div>
                            <div class="order-bump-subtitle">EXCLUSIVO PARA O GRUPO!</div>
                            <div class="order-bump-price">R$ 5,60</div>
                        </div>
                    </div>
                    <label class="order-bump-add">
                        <input type="checkbox" class="order-bump-add-checkbox" id="ob1" data-price="560">
                        <span class="order-bump-add-text">Adicionar Produto</span>
                    </label>
                </div>
                
                <!-- Order Bump 2 -->
                <div class="order-bump">
                    <div class="order-bump-header">
                        <span>ESPECIAL DE NATAL: Combo Exclusivo (Receitas Lucrativas)</span>
                        <svg class="order-bump-header-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 490.05 490.05" width="20" height="20" fill="#38C4AF"><path d="M418.275 418.275c95.7-95.7 95.7-250.8 0-346.5s-250.8-95.7-346.5 0-95.7 250.8 0 346.5 250.9 95.7 346.5 0zm-261.1-210.7 55.1 55.1 120.7-120.6 42.7 42.7-120.6 120.6-42.8 42.7-42.7-42.7-55.1-55.1 42.7-42.7z"></path></svg>
                    </div>
                    <div class="order-bump-content">
                        <img src="https://cdn-checkout.cakto.com.br/products/BANNERPAcotoNatal1.jpg?width=180" alt="Combo Natal" class="order-bump-image">
                        <div class="order-bump-info">
                            <div class="order-bump-title">Combo de Natal Exclusivo Navidad</div>
                            <div class="order-bump-subtitle">EXCLUSIVO PARA O GRUPO!</div>
                            <div class="order-bump-price">R$ 6,80</div>
                        </div>
                    </div>
                     <label class="order-bump-add">
                        <input type="checkbox" class="order-bump-add-checkbox" id="ob2" data-price="680">
                        <span class="order-bump-add-text">Adicionar Produto</span>
                    </label>
                </div>
                
                <!-- Order Bump 3 -->
                <div class="order-bump">
                    <div class="order-bump-header">
                        <span>DECORAÇÃO CRIATIVA: Kit Almofadas Divertidas</span>
                        <svg class="order-bump-header-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 490.05 490.05" width="20" height="20" fill="#38C4AF"><path d="M418.275 418.275c95.7-95.7 95.7-250.8 0-346.5s-250.8-95.7-346.5 0-95.7 250.8 0 346.5 250.9 95.7 346.5 0zm-261.1-210.7 55.1 55.1 120.7-120.6 42.7 42.7-120.6 120.6-42.8 42.7-42.7-42.7-55.1-55.1 42.7-42.7z"></path></svg>
                    </div>
                    <div class="order-bump-content">
                        <img src="https://cdn-checkout.cakto.com.br/products/Capakitalmofadas1.png?width=180" alt="Kit Almofadas" class="order-bump-image">
                        <div class="order-bump-info">
                            <div class="order-bump-title">Kit Almofadas amigurumis pap PDF</div>
                            <div class="order-bump-subtitle">EXCLUSIVO PARA O GRUPO!</div>
                            <div class="order-bump-price">R$ 7,90</div>
                        </div>
                    </div>
                     <label class="order-bump-add">
                        <input type="checkbox" class="order-bump-add-checkbox" id="ob3" data-price="790">
                        <span class="order-bump-add-text">Adicionar Produto</span>
                    </label>
                </div>
            </div>
            
            <!-- Resumo do Pedido -->
            <div class="order-summary">
                <h3 class="summary-title">Resumo do pedido</h3>
                <div id="summary-items">
                    <div class="summary-item">
                        <div class="summary-item-info">
                            <img src="https://cdn-checkout.cakto.com.br/products/Criativocalculadoraamigurumicomamigurumi.jpg?width=180" alt="Produto" class="summary-item-image">
                            <span class="summary-item-name">Fabrica de Amigurumis Premium</span>
                        </div>
                        <span class="summary-item-price">R$ 1,00</span>
                    </div>
                </div>
                <div class="summary-total">
                    <span>Total</span>
                    <span id="total-price-display">R$ 1,99</span>
                </div>
            </div>
            
            <!-- Botão CTA -->
            <button id="pay-button" class="cta-button">Pagar com PIX</button>
        </div>
        
        <!-- Footer -->
        <div class="footer-section">
            <div class="payment-provider">
                <div class="cakto-logo">🌱</div>
                <span>Cakto está processando este pagamento para o vendedor Emart</span>
            </div>
            
            <div class="secure-badge">✅ Compra 100% segura</div>
            
            <div class="footer-info">
                Este site é protegido pelo reCAPTCHA do Google
            </div>
            
            <div class="guarantee-badges">
                <div class="badge">
                    <div class="badge-icon">7</div>
                    <div class="badge-text">Dias</div>
                    <div class="badge-subtext">Garantida</div>
                </div>
                <div class="badge">
                    <div class="badge-icon">🔒</div>
                    <div class="badge-text">Seguro</div>
                    <div class="badge-subtext">100% De Garantida</div>
                </div>
            </div>
            
            <div class="footer-links">
                <a href="#">Política de privacidade</a>
                <a href="#">Termos de serviço</a>
            </div>
        </div>
    </div>
    
    <!-- Modal PIX -->
    <div id="pix-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h1>PIX gerado com sucesso!</h1>
                <p>Agora é só finalizar o pagamento</p>
            </div>

            <div class="modal-timer-section">
                <p>Este código expirará em:</p>
                <div class="modal-timer-display">
                    <div id="pix-timer-minutes" class="modal-timer-box">15</div>
                    <span class="modal-timer-separator">:</span>
                    <div id="pix-timer-seconds" class="modal-timer-box">00</div>
                </div>
            </div>

            <div class="qr-code-container">
                <img id="qr-code-img" src="" alt="QR Code PIX">
            </div>

            <div class="payment-status">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>
                <span>Aguardando pagamento...</span>
            </div>

            <div class="approval-notice">
                A aprovação leva no máximo 2 minutos
            </div>

            <div class="modal-buttons">
                <button id="copy-pix-btn" class="copy-pix-btn-new">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.6667 1.33331H3.33333C2.59695 1.33331 2 1.93027 2 2.66665V10.6666C2 11.403 2.59695 12 3.33333 12H10.6667C11.403 12 12 11.403 12 10.6666V2.66665C12 1.93027 11.403 1.33331 10.6667 1.33331Z" stroke="#0B6856" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M14 5.33331V13.3333C14 14.0697 13.403 14.6666 12.6667 14.6666H5.33333" stroke="#0B6856" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                    <span>Copiar código Pix</span>
                </button>
                <button class="payment-done-btn">Já fiz o pagamento</button>
            </div>
            
            <input type="text" id="pix-code-input" readonly>

            <div class="payment-instructions">
                <div class="instruction-item">
                    <div class="instruction-number">1</div>
                    <p class="instruction-text">Abra o app do seu banco e entre na opção <strong>Pix</strong></p>
                </div>
                <div class="instruction-item">
                    <div class="instruction-number">2</div>
                    <p class="instruction-text">Escolha a opção <strong>Pagar / Pix copia e cola</strong></p>
                </div>
                <div class="instruction-item">
                    <div class="instruction-number">3</div>
                    <p class="instruction-text">Escaneie o QR Code. Se preferir, copie e cole o código</p>
                </div>
                <div class="instruction-item">
                    <div class="instruction-number">4</div>
                    <p class="instruction-text">Depois, confirme o pagamento</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // --- CONFIGURAÇÃO DOS PRODUTOS (Preços em centavos) ---
        const mainProduct = { name: "Fabrica de Amigurumis Premium", price: 100, image: "https://cdn-checkout.cakto.com.br/products/Criativocalculadoraamigurumicomamigurumi.jpg?width=180" };
        const orderBumps = [
            { id: "ob1", name: "Combo Princesas Disney", price: 560, image: "https://cdn-checkout.cakto.com.br/products/banerrcompreosite37901.jpg?width=180" },
            { id: "ob2", name: "Combo de Natal", price: 680, image: "https://cdn-checkout.cakto.com.br/products/BANNERPAcotoNatal1.jpg?width=180" },
            { id: "ob3", name: "Kit Almofadas", price: 790, image: "https://cdn-checkout.cakto.com.br/products/Capakitalmofadas1.png?width=180" }
        ];
        
        // --- Timer Countdown ---
        let timeLeft = 15 * 60; // 15 minutos em segundos
        const timerElement = document.getElementById('countdown-timer');
        
        function updateTimer() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerElement.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            if (timeLeft > 0) {
                timeLeft--;
                setTimeout(updateTimer, 1000);
            }
        }
        updateTimer();
        
        // --- Formatação de inputs ---
        const phoneInput = document.getElementById('customer-phone');
        
        phoneInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 11) value = value.slice(0, 11);
            
            let formatted = value;
            if (value.length > 6) {
                formatted = value.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
            } else if (value.length > 2) {
                formatted = value.replace(/(\d{2})(\d+)/, '($1) $2');
            }
            
            e.target.value = formatted;
        });
        
        // --- Atualização do resumo ---
        const summaryItemsDiv = document.getElementById('summary-items');
        const totalPriceDisplay = document.getElementById('total-price-display');
        
        function formatPrice(priceInCents) {
            return (priceInCents / 100).toLocaleString('pt-BR', { 
                style: 'currency', 
                currency: 'BRL' 
            });
        }
        
        function updateSummary() {
            let currentTotal = mainProduct.price;
            
            // Sempre mostrar o produto principal
            let summaryHTML = `
                <div class="summary-item">
                    <div class="summary-item-info">
                        <img src="${mainProduct.image}" alt="${mainProduct.name}" class="summary-item-image">
                        <span class="summary-item-name">${mainProduct.name}</span>
                    </div>
                    <span class="summary-item-price">${formatPrice(mainProduct.price)}</span>
                </div>
            `;
            
            // Adicionar order bumps selecionados
            orderBumps.forEach(bump => {
                const checkbox = document.getElementById(bump.id);
                if (checkbox && checkbox.checked) {
                    currentTotal += bump.price;
                    summaryHTML += `
                        <div class="summary-item">
                            <div class="summary-item-info">
                                <img src="${bump.image}" alt="${bump.name}" class="summary-item-image">
                                <span class="summary-item-name">${bump.name}</span>
                            </div>
                            <span class="summary-item-price">+${formatPrice(bump.price)}</span>
                        </div>
                    `;
                }
            });
            
            summaryItemsDiv.innerHTML = summaryHTML;
            totalPriceDisplay.textContent = formatPrice(currentTotal);
        }
        
        // Event listeners para order bumps
        document.querySelectorAll('.order-bump-add-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', (e) => {
                updateSummary();
                updateOrderBumpStyle(e.target);
            });
        });

        document.querySelectorAll('.order-bump').forEach(bump => {
            bump.addEventListener('click', (e) => {
                // Evita que o clique no link dentro do bump propague
                if (e.target.tagName === 'A') return;

                const checkbox = bump.querySelector('.order-bump-add-checkbox');
                // Não aciona o clique se o alvo já for o checkbox ou seu label para evitar duplo disparo
                if (e.target !== checkbox && e.target.closest('label') !== checkbox.parentElement) {
                    checkbox.checked = !checkbox.checked;
                    // Dispara o evento change manualmente
                    checkbox.dispatchEvent(new Event('change'));
                }
            });
        });

        function updateOrderBumpStyle(checkbox) {
            const orderBump = checkbox.closest('.order-bump');
            if (checkbox.checked) {
                orderBump.classList.add('selected');
            } else {
                orderBump.classList.remove('selected');
            }
        }
        
        // --- Validação do formulário ---
        function validateForm() {
            const name = document.getElementById('customer-name').value.trim();
            const phone = document.getElementById('customer-phone').value.trim();
            
            if (!name || !phone) {
                alert('Por favor, preencha todos os campos obrigatórios.');
                return false;
            }
            
            // Validar telefone
            const phoneNumbers = phone.replace(/\D/g, '');
            if (phoneNumbers.length < 10) {
                alert('Por favor, insira um telefone válido.');
                return false;
            }
            
            return true;
        }
        
        // --- Geração do PIX ---
        const payButton = document.getElementById('pay-button');
        const pixModal = document.getElementById('pix-modal');
        const qrCodeImg = document.getElementById('qr-code-img');
        const pixCodeInput = document.getElementById('pix-code-input');
        const copyPixBtn = document.getElementById('copy-pix-btn');
        let pixTimerInterval;
        
        payButton.addEventListener('click', handlePayment);
        
        function startPixTimer(duration) {
            let timer = duration;
            const minutesEl = document.getElementById('pix-timer-minutes');
            const secondsEl = document.getElementById('pix-timer-seconds');

            clearInterval(pixTimerInterval); // Limpa timer anterior se houver

            pixTimerInterval = setInterval(function () {
                const minutes = Math.floor(timer / 60);
                const seconds = timer % 60;

                minutesEl.textContent = minutes.toString().padStart(2, '0');
                secondsEl.textContent = seconds.toString().padStart(2, '0');

                if (--timer < 0) {
                    clearInterval(pixTimerInterval);
                    // Aqui você pode adicionar lógica para quando o tempo expirar
                    // Por exemplo, fechar o modal e mostrar uma mensagem.
                    pixModal.style.display = 'none';
                    alert('O tempo para pagamento do PIX expirou.');
                }
            }, 1000);
        }

        async function handlePayment() {
            // Validar formulário primeiro
            if (!validateForm()) {
                return;
            }
            
            // Calcular valor total
            let finalValueInCents = mainProduct.price;
            orderBumps.forEach(bump => {
                const checkbox = document.getElementById(bump.id);
                if (checkbox && checkbox.checked) {
                    finalValueInCents += bump.price;
                }
            });
            
            payButton.textContent = 'Gerando PIX...';
            payButton.disabled = true;
            
            try {
                // Simular chamada à API (substitua pela sua integração real)
                const response = await fetch('https://checkoutt-68li.onrender.com/create-pix', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        valueInCents: finalValueInCents,
                        customer: {
                            name: document.getElementById('customer-name').value,
                            phone: document.getElementById('customer-phone').value.replace(/\D/g, '')
                        }
                    })
                });
                
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error || 'Não foi possível gerar o PIX.');
                }
                
                const pixData = await response.json();
                
                // Mostrar modal com QR Code
                qrCodeImg.src = pixData.qr_code_base64;
                pixCodeInput.value = pixData.qr_code;
                pixModal.style.display = 'flex';
                startPixTimer(15 * 60); // Inicia timer de 15 minutos
                
                // Dispara evento de checkout do Pinterest
                try {
                    let finalValue = finalValueInCents / 100;
                    pintrk('track', 'checkout', {
                        event_id: 'checkout_' + new Date().getTime(),
                        value: finalValue.toFixed(2),
                        order_quantity: 1,
                        currency: 'BRL'
                    });
                    console.log('✅ Evento CHECKOUT do Pinterest disparado. Valor:', finalValue.toFixed(2));
                } catch (e) {
                    console.error('⚠️ Erro ao disparar evento do Pinterest:', e);
                }
                
            } catch (error) {
                console.error('Erro na geração do PIX:', error);
                alert(error.message);
            } finally {
                payButton.textContent = 'Pagar com PIX';
                payButton.disabled = false;
            }
        }
        
        // Copiar código PIX
        copyPixBtn.addEventListener('click', () => {
            pixCodeInput.select();
            document.execCommand('copy');
            
            const originalText = copyPixBtn.querySelector('span').textContent;
            copyPixBtn.querySelector('span').textContent = '✓ Copiado!';
            
            setTimeout(() => {
                copyPixBtn.querySelector('span').textContent = originalText;
            }, 2000);
        });
        
        // Fechar modal ao clicar fora
        pixModal.addEventListener('click', (e) => {
            if (e.target === pixModal) {
                pixModal.style.display = 'none';
                clearInterval(pixTimerInterval);
            }
        });
        
        // Inicializar resumo e estilos dos bumps
        document.addEventListener('DOMContentLoaded', () => {
            updateSummary();
            document.querySelectorAll('.order-bump-add-checkbox').forEach(updateOrderBumpStyle);
        });
    </script>
</body>
</html>
